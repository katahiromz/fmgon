//////////////////////////////////////////////////////////////////////////////
// fmgengen YM2203 (OPN) emulator timbre
// Copyright (C) 2015 Katayama Hirofumi MZ (katayama.hirofumi.mz@gmail.com).
//////////////////////////////////////////////////////////////////////////////

#include "stdafx.h"
#include "YM2203_Timbre.h"

//////////////////////////////////////////////////////////////////////////////

YM2203_Timbre::YM2203_Timbre(const int16_t array[5][10]) {
    set(array);
}

void YM2203_Timbre::set(const int16_t array[5][10]) {
    algorithm =  array[0][0]       & 0x07;
    feedback  = (array[0][0] >> 3) & 0x07;
    opMask    =  array[0][1] & 0x0F;
    // [0][2-7] : ビブラート、トレモロ関係の設定は未対応
    // [0][8,9] : 未使用
    // [1-4][9] : ビブラート関係の設定は未対応
    setAR((uint8_t)array[1][0], (uint8_t)array[2][0], (uint8_t)array[3][0], (uint8_t)array[4][0]);
    setDR((uint8_t)array[1][1], (uint8_t)array[2][1], (uint8_t)array[3][1], (uint8_t)array[4][1]);
    setSR((uint8_t)array[1][2], (uint8_t)array[2][2], (uint8_t)array[3][2], (uint8_t)array[4][2]);
    setRR((uint8_t)array[1][3], (uint8_t)array[2][3], (uint8_t)array[3][3], (uint8_t)array[4][3]);
    setSL((uint8_t)array[1][4], (uint8_t)array[2][4], (uint8_t)array[3][4], (uint8_t)array[4][4]);
    setTL((uint8_t)array[1][5], (uint8_t)array[2][5], (uint8_t)array[3][5], (uint8_t)array[4][5]);
    setKS((uint8_t)array[1][6], (uint8_t)array[2][6], (uint8_t)array[3][6], (uint8_t)array[4][6]);
    setML((uint8_t)array[1][7], (uint8_t)array[2][7], (uint8_t)array[3][7], (uint8_t)array[4][7]);
    setDT( (int8_t)array[1][8],  (int8_t)array[2][8],  (int8_t)array[3][8],  (int8_t)array[4][8]);
} // YM2203_Timbre::set

//////////////////////////////////////////////////////////////////////////////

void YM2203_Timbre::setTL(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    tl[OPERATOR_1] = op1;
    tl[OPERATOR_2] = op2;
    tl[OPERATOR_3] = op3;
    tl[OPERATOR_4] = op4;
}

void YM2203_Timbre::setAR(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    ar[OPERATOR_1] = op1;
    ar[OPERATOR_2] = op2;
    ar[OPERATOR_3] = op3;
    ar[OPERATOR_4] = op4;
}

void YM2203_Timbre::setDR(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    dr[OPERATOR_1] = op1;
    dr[OPERATOR_2] = op2;
    dr[OPERATOR_3] = op3;
    dr[OPERATOR_4] = op4;
}

void YM2203_Timbre::setSR(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    sr[OPERATOR_1] = op1;
    sr[OPERATOR_2] = op2;
    sr[OPERATOR_3] = op3;
    sr[OPERATOR_4] = op4;
}

void YM2203_Timbre::setSL(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    sl[OPERATOR_1] = op1;
    sl[OPERATOR_2] = op2;
    sl[OPERATOR_3] = op3;
    sl[OPERATOR_4] = op4;
}

void YM2203_Timbre::setRR(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    rr[OPERATOR_1] = op1;
    rr[OPERATOR_2] = op2;
    rr[OPERATOR_3] = op3;
    rr[OPERATOR_4] = op4;
}

void YM2203_Timbre::setDT(int8_t op1, int8_t op2, int8_t op3, int8_t op4) {
    detune[OPERATOR_1] = op1;
    detune[OPERATOR_2] = op2;
    detune[OPERATOR_3] = op3;
    detune[OPERATOR_4] = op4;
}

void YM2203_Timbre::setML(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    multiple[OPERATOR_1] = op1;
    multiple[OPERATOR_2] = op2;
    multiple[OPERATOR_3] = op3;
    multiple[OPERATOR_4] = op4;
}

void YM2203_Timbre::setKS(uint8_t op1, uint8_t op2, uint8_t op3, uint8_t op4) {
    keyScale[OPERATOR_1] = op1;
    keyScale[OPERATOR_2] = op2;
    keyScale[OPERATOR_3] = op3;
    keyScale[OPERATOR_4] = op4;
}

//////////////////////////////////////////////////////////////////////////////

int16_t ym2203_tone_table[NUM_TONES][5][10] = {
    // @0 Default VOICE
    {
        {58, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 12, 4, 10, 1, 32, 0, 12, 0, 0},
        {31, 2, 4, 6, 15, 57, 3, 15, 1, 0},
        {31, 12, 4, 6, 0, 30, 0, 1, 0, 0},
        {31, 5, 7, 7, 2, 0, 2, 3, -1, 0},
    },
    // @1 BRASS 2
    {
        {58, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {14, 10, 0, 5, 1, 26, 2, 1, 0, 1},
        {25, 13, 3, 15, 15, 30, 1, 10, 2, 1},
        {15, 11, 0, 5, 2, 54, 1, 1, 0, 1},
        {18, 3, 0, 8, 2, 0, 1, 1, 1, 1},
    },
    // @2 STRING 2
    {
        {58, 15, 2, 1, 5000, 40, 0, 4, 0, 0},
        {28, 7, 0, 3, 1, 27, 1, 2, 1, 0},
        {19, 9, 0, 2, 3, 24, 1, 10, 1, 0},
        {28, 7, 0, 3, 1, 51, 1, 2, 0, 0},
        {13, 4, 0, 7, 0, 0, 1, 2, 1, 0},
    },
    // @3 EPIANO 3
    {
        {58, 15, 0, 0, 2800, 0, 1, 0, 0, 0},
        {28, 4, 3, 7, 1, 33, 2, 1, 3, 0},
        {27, 9, 1, 2, 0, 71, 3, 12, 0, 0},
        {28, 4, 3, 6, 0, 49, 2, 4, -2, 0},
        {26, 3, 0, 5, 10, 0, 3, 1, 0, 0},
    },
    // @4 EBASS 1
    {
        {32, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 7, 7, 9, 2, 28, 3, 6, 3, 0},
        {31, 6, 6, 9, 1, 58, 3, 5, 3, 0},
        {31, 9, 6, 9, 1, 22, 2, 0, 3, 0},
        {31, 6, 8, 9, 15, 0, 2, 1, 3, 0},
    },
    // @5 EORGAN 1
    {
        {61, 15, 2, 1, 4500, 8, 0, 5, 0, 0},
        {31, 18, 0, 15, 2, 39, 3, 5, 3, 0},
        {31, 4, 0, 15, 0, 17, 0, 8, -1, 0},
        {31, 15, 0, 15, 0, 27, 0, 2, -3, 0},
        {31, 15, 0, 15, 0, 0, 0, 1, 3, 0},
    },
    // @6 PORGAN 1
    {
        {4, 15, 2, 0, 2600, 70, 0, 0, 0, 0},
        {20, 2, 0, 7, 0, 31, 2, 8, -3, 0},
        {16, 2, 0, 7, 0, 27, 2, 4, -3, 0},
        {18, 2, 0, 5, 0, 31, 2, 0, -2, 0},
        {18, 2, 0, 6, 0, 0, 2, 0, 1, 0},
    },
    // @7 FLUTE
    {
        {59, 15, 2, 1, 4300, 4, 1, 6, 0, 0},
        {31, 9, 3, 5, 14, 40, 3, 6, -3, 0},
        {20, 7, 0, 5, 15, 51, 1, 6, 0, 0},
        {16, 11, 0, 5, 2, 38, 3, 3, 3, 0},
        {15, 4, 0, 8, 0, 0, 2, 3, 0, 1},
    },
    // @8 OBOE
    {
        {58, 15, 2, 1, 4500, 9, 3, 5, 0, 0},
        {25, 11, 0, 3, 1, 31, 3, 1, 3, 0},
        {28, 12, 12, 11, 5, 40, 3, 9, 3, 0},
        {22, 0, 0, 11, 1, 50, 1, 2, 3, 0},
        {20, 6, 0, 11, 0, 0, 1, 4, 3, 0},
    },
    // @9 CLARINET
    {
        {59, 15, 2, 1, 4200, 8, 3, 5, 0, 0},
        {31, 0, 0, 0, 0, 39, 1, 1, 0, 0},
        {19, 11, 0, 11, 4, 36, 0, 2, 0, 0},
        {31, 15, 0, 9, 0, 51, 1, 4, 0, 0},
        {19, 15, 0, 9, 0, 0, 1, 1, 0, 0},
    },
    // @10 VIBRPHN
    {
        {36, 15, 2, 1, 3800, 13, 25, 6, 0, 0},
        {31, 16, 0, 10, 11, 30, 1, 9, 3, 0},
        {27, 7, 10, 5, 8, 25, 3, 6, -1, 0},
        {30, 12, 11, 6, 15, 65, 2, 5, 0, 0},
        {30, 5, 10, 5, 15, 0, 2, 1, 0, 0},
    },
    // @11 HARPSIC
    {
        {58, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 12, 4, 10, 1, 32, 0, 12, 0, 0},
        {31, 2, 4, 6, 15, 57, 3, 15, 1, 0},
        {31, 12, 4, 6, 0, 30, 0, 1, 0, 0},
        {31, 5, 7, 7, 2, 0, 2, 3, -1, 0},
    },
    // @12 BELL
    {
        {28, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {29, 4, 1, 0, 2, 22, 0, 3, 3, 0},
        {29, 4, 3, 3, 0, 15, 0, 1, 2, 0},
        {10, 4, 4, 0, 3, 25, 3, 5, 3, 0},
        {30, 4, 3, 3, 0, 0, 1, 3, 3, 0},
    },
    // @13 PIANO
    {
        {60, 15, 2, 0, 0, 0, 0, 0, 0, 0},
        {31, 0, 8, 0, 4, 32, 3, 1, -1, 2},
        {25, 7, 7, 7, 3, 10, 2, 1, 1, 1},
        {31, 0, 8, 0, 4, 28, 3, 3, 2, 1},
        {25, 8, 6, 7, 3, 0, 2, 1, -2, 1},
    },
    // @14 MUSHI
    {
        {7, 15, 3, 0, 6000, -98, 10, 6, 0, 0},
        {30, 16, 4, 7, 10, 0, 0, 15, 3, 0},
        {20, 20, 20, 7, 0, 0, 0, 15, -3, 0},
        {10, 20, 20, 7, 0, 0, 0, 15, -3, 0},
        {2, 20, 14, 7, 0, 0, 0, 15, 3, 2},
    },
    // @15 DESCENT
    {
        {62, 15, 0, 1, 600, -127, 0, 8, 0, 0},
        {4, 10, 2, 4, 0, 37, 1, 15, 0, 0},
        {4, 10, 2, 4, 0, 42, 1, 1, 0, 0},
        {4, 12, 2, 3, 0, 20, 1, 0, 0, 0},
        {10, 12, 2, 3, 0, 0, 1, 3, 0, 0},
    },
    // @16 UFO
    {
        {54, 15, 0, 1, 1800, -98, 10, 6, 0, 0},
        {2, 2, 2, 7, 0, 15, 0, 15, 3, 0},
        {4, 8, 3, 7, 0, 0, 0, 3, -3, 0},
        {14, 14, 5, 7, 0, 25, 0, 5, -3, 0},
        {10, 4, 10, 7, 1, 15, 0, 15, 3, 2},
    },
    // @17 GRANPRI
    {
        {58, 15, 2, 1, 90, 100, 0, 9, 0, 0},
        {12, 5, 1, 5, 5, 14, 1, 0, 0, 0},
        {16, 4, 1, 5, 2, 20, 1, 0, 3, 0},
        {29, 6, 5, 5, 2, 6, 2, 0, 3, 0},
        {9, 4, 31, 8, 10, 0, 2, 4, 3, 0},
    },
    // @18 LASER 1
    {
        {35, 15, 0, 1, 32000, -127, 0, 7, 0, 0},
        {31, 26, 5, 11, 0, 49, 0, 15, 3, 0},
        {31, 26, 9, 11, 0, 44, 0, 15, -3, 0},
        {31, 17, 1, 7, 10, 17, 0, 15, -3, 0},
        {31, 12, 1, 8, 15, 0, 2, 6, 3, 0},
    },
    // @19 LASER 2
    {
        {4, 15, 2, 1, 9000, 30, 0, 7, 0, 0},
        {18, 2, 0, 7, 0, 31, 2, 8, -3, 0},
        {18, 2, 0, 7, 0, 27, 2, 4, -3, 0},
        {18, 2, 0, 5, 0, 31, 2, 0, -2, 0},
        {18, 2, 0, 6, 0, 0, 2, 0, 1, 0},
    },
    // @20 SIN WAVE
    {
        {7, 1, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 0, 0, 15, 1, 0, 0, 1, 0, 0},
        {31, 0, 0, 15, 1, 0, 0, 2, 0, 0},
        {31, 0, 0, 15, 1, 0, 0, 3, 0, 0},
        {31, 0, 0, 15, 1, 0, 0, 4, 0, 0},
    },
    // @21 BRASS 1
    {
        {58, 15, 2, 1, 4000, 10, 0, 1, 0, 0},
        {13, 6, 2, 8, 1, 25, 2, 2, 0, 0},
        {15, 8, 0, 8, 1, 32, 1, 6, 2, 0},
        {21, 7, 0, 8, 2, 42, 0, 2, 0, 0},
        {18, 4, 0, 8, 2, 0, 1, 2, 1, 0},
    },
    // @22 BRASS 2
    {
        {58, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {14, 10, 0, 5, 1, 26, 2, 1, 0, 1},
        {25, 13, 3, 15, 15, 30, 1, 10, 2, 1},
        {15, 11, 0, 5, 2, 54, 1, 1, 0, 1},
        {18, 3, 0, 8, 2, 0, 1, 1, 1, 1},
    },
    // @23 TRUMPET
    {
        {58, 15, 2, 1, 4100, 10, 3, 5, 0, 0},
        {13, 14, 0, 3, 1, 23, 2, 1, 0, 0},
        {13, 14, 0, 10, 15, 40, 2, 7, 0, 0},
        {14, 14, 0, 3, 1, 38, 2, 1, 0, 0},
        {19, 3, 0, 10, 0, 0, 1, 1, 0, 0},
    },
    // @24 STRING 1
    {
        {58, 15, 2, 1, 4300, 10, 3, 5, 0, 0},
        {25, 10, 0, 5, 1, 29, 1, 1, 1, 0},
        {25, 11, 0, 8, 5, 15, 1, 5, 1, 0},
        {28, 13, 0, 6, 2, 48, 1, 1, 0, 0},
        {14, 4, 0, 6, 0, 0, 1, 1, 1, 0},
    },
    // @25 STRING 2
    {
        {58, 15, 2, 1, 5000, 40, 0, 4, 0, 0},
        {28, 7, 0, 3, 1, 27, 1, 2, 1, 0},
        {19, 9, 0, 2, 3, 24, 1, 10, 1, 0},
        {28, 7, 0, 3, 1, 51, 1, 2, 0, 0},
        {13, 4, 0, 7, 0, 0, 1, 2, 1, 0},
    },
    // @26 EPIANO 1
    {
        {20, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {26, 15, 0, 6, 2, 23, 2, 1, 1, 0},
        {24, 12, 5, 8, 2, 10, 2, 1, 2, 0},
        {26, 7, 3, 6, 4, 57, 3, 10, 0, 0},
        {24, 12, 5, 8, 2, 0, 3, 1, 1, 0},
    },
    // @27 EPIANO 2
    {
        {28, 15, 2, 1, 2800, 0, 1, 0, 0, 0},
        {31, 15, 8, 10, 8, 40, 2, 15, 3, 1},
        {27, 7, 10, 6, 8, 20, 3, 1, 0, 1},
        {30, 6, 11, 6, 15, 42, 2, 1, 0, 1},
        {30, 6, 0, 7, 15, 0, 1, 1, 0, 1},
    },
    // @28 EPIANO 3
    {
        {58, 15, 0, 0, 2800, 0, 1, 0, 0, 0},
        {28, 4, 3, 7, 1, 33, 2, 1, 3, 0},
        {27, 9, 1, 2, 0, 71, 3, 12, 0, 0},
        {28, 4, 3, 6, 0, 49, 2, 4, -2, 0},
        {26, 3, 0, 5, 10, 0, 3, 1, 0, 0},
    },
    // @29 GUITAR
    {
        {57, 15, 2, 1, 200, 2, 2, 1, 0, 0},
        {31, 7, 4, 7, 15, 41, 3, 2, 3, 1},
        {31, 4, 4, 11, 15, 35, 3, 3, 3, 1},
        {31, 4, 4, 11, 15, 43, 3, 3, 3, 1},
        {31, 10, 3, 11, 0, 0, 2, 1, 3, 1},
    },
    // @30 EBASS 1
    {
        {32, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 7, 7, 9, 2, 28, 3, 6, 3, 0},
        {31, 6, 6, 9, 1, 58, 3, 5, 3, 0},
        {31, 9, 6, 9, 1, 22, 2, 0, 3, 0},
        {31, 6, 8, 9, 15, 0, 2, 1, 3, 0},
    },
    // @31 EBASS 2
    {
        {48, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {30, 14, 8, 6, 11, 23, 2, 0, 3, 0},
        {24, 10, 8, 6, 11, 63, 3, 0, 3, 0},
        {28, 4, 8, 6, 11, 23, 3, 0, 3, 0},
        {28, 5, 8, 6, 11, 0, 3, 0, 3, 0},
    },
    // @32 EORGAN 1
    {
        {61, 15, 2, 1, 4500, 8, 0, 5, 0, 0},
        {31, 18, 0, 15, 2, 39, 3, 5, 3, 0},
        {31, 4, 0, 15, 0, 17, 0, 8, -1, 0},
        {31, 15, 0, 15, 0, 27, 0, 2, -3, 0},
        {31, 15, 0, 15, 0, 0, 0, 1, 3, 0},
    },
    // @33 EORGAN 2
    {
        {31, 15, 2, 1, 4400, 40, 5, 3, 0, 0},
        {28, 18, 0, 15, 15, 17, 0, 6, -2, 0},
        {31, 15, 0, 15, 0, 10, 2, 1, 3, 0},
        {31, 15, 0, 15, 0, 10, 0, 3, -3, 0},
        {31, 15, 0, 15, 0, 0, 0, 2, 2, 0},
    },
    // @34 PORGAN 1
    {
        {4, 15, 2, 0, 2600, 70, 0, 0, 0, 0},
        {20, 2, 0, 7, 0, 31, 2, 8, -3, 0},
        {16, 2, 0, 7, 0, 27, 2, 4, -3, 0},
        {18, 2, 0, 5, 0, 31, 2, 0, -2, 0},
        {18, 2, 0, 6, 0, 0, 2, 0, 1, 0},
    },
    // @35 PORGAN 2
    {
        {28, 15, 2, 0, 0, 0, 0, 0, 0, 0},
        {18, 10, 2, 7, 4, 38, 2, 4, 1, 0},
        {18, 4, 0, 8, 0, 25, 0, 2, 1, 0},
        {30, 6, 2, 9, 1, 38, 1, 12, 0, 0},
        {25, 5, 0, 9, 0, 0, 1, 6, 0, 0},
    },
    // @36 FLUTE
    {
        {59, 15, 2, 1, 4300, 4, 1, 6, 0, 0},
        {31, 9, 3, 5, 14, 40, 3, 6, -3, 0},
        {20, 7, 0, 5, 15, 51, 1, 6, 0, 0},
        {16, 11, 0, 5, 2, 38, 3, 3, 3, 0},
        {15, 4, 0, 8, 0, 0, 2, 3, 0, 1},
    },
    // @37 PICCOLO
    {
        {62, 15, 2, 1, 4600, 4, 4, 4, 0, 0},
        {31, 10, 15, 9, 5, 35, 0, 4, 0, 0},
        {20, 6, 0, 9, 15, 12, 0, 4, 0, 0},
        {20, 11, 0, 9, 1, 10, 0, 4, 0, 0},
        {20, 11, 0, 9, 1, 0, 0, 4, 0, 0},
    },
    // @38 OBOE
    {
        {58, 15, 2, 1, 4500, 9, 3, 5, 0, 0},
        {25, 11, 0, 3, 1, 31, 3, 1, 3, 0},
        {28, 12, 12, 11, 5, 40, 3, 9, 3, 0},
        {22, 0, 0, 11, 1, 50, 1, 2, 3, 0},
        {20, 6, 0, 11, 0, 0, 1, 4, 3, 0},
    },
    // @39 CLARINET
    {
        {59, 15, 2, 1, 4200, 8, 3, 5, 0, 0},
        {31, 0, 0, 0, 0, 39, 1, 1, 0, 0},
        {19, 11, 0, 11, 4, 36, 0, 2, 0, 0},
        {31, 15, 0, 9, 0, 51, 1, 4, 0, 0},
        {19, 15, 0, 9, 0, 0, 1, 1, 0, 0},
    },
    // @40 GROCKEN
    {
        {28, 15, 2, 1, 4200, 30, 4, 2, 0, 0},
        {31, 14, 0, 15, 15, 33, 3, 11, 3, 0},
        {30, 9, 7, 6, 1, 21, 3, 1, 0, 0},
        {31, 16, 5, 0, 10, 23, 1, 7, 0, 0},
        {30, 7, 4, 7, 1, 0, 3, 1, -3, 0},
    },
    // @41 VIBRPHN
    {
        {36, 15, 2, 1, 3800, 13, 25, 6, 0, 0},
        {31, 16, 0, 10, 11, 30, 1, 9, 3, 0},
        {27, 7, 10, 5, 8, 25, 3, 6, -1, 0},
        {30, 12, 11, 6, 15, 65, 2, 5, 0, 0},
        {30, 5, 10, 5, 15, 0, 2, 1, 0, 0},
    },
    // @42 XYLOPHN
    {
        {60, 15, 2, 1, 3100, 12, 4, 1, 0, 0},
        {25, 23, 10, 8, 14, 25, 1, 5, 3, 2},
        {25, 14, 11, 8, 15, 12, 1, 1, 2, 2},
        {25, 20, 11, 8, 14, 27, 1, 3, 3, 2},
        {25, 14, 12, 8, 15, 0, 1, 1, 3, 2},
    },
    // @43 KOTO
    {
        {56, 15, 2, 0, 0, 0, 0, 0, 0, 0},
        {26, 8, 5, 7, 2, 30, 3, 3, 3, 0},
        {29, 5, 4, 4, 1, 30, 3, 4, 3, 0},
        {28, 4, 2, 6, 3, 30, 3, 1, 3, 0},
        {31, 10, 3, 5, 1, 0, 3, 1, 3, 0},
    },
    // @44 ZITAR
    {
        {2, 15, 2, 1, 4200, 1, 3, 1, 0, 0},
        {31, 6, 6, 1, 0, 28, 2, 7, 3, 0},
        {31, 6, 6, 1, 0, 69, 2, 9, 3, 0},
        {31, 12, 6, 1, 0, 29, 2, 1, 2, 0},
        {31, 12, 6, 5, 0, 0, 2, 1, 3, 0},
    },
    // @45 CLAV
    {
        {59, 15, 2, 0, 0, 0, 0, 0, 0, 0},
        {31, 4, 4, 7, 15, 33, 3, 12, 3, 0},
        {31, 5, 4, 7, 0, 34, 0, 9, 3, 0},
        {31, 4, 4, 7, 1, 7, 0, 0, 3, 0},
        {31, 1, 2, 12, 10, 0, 3, 1, 3, 0},
    },
    // @46 HARPSIC
    {
        {58, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 12, 4, 10, 1, 32, 0, 12, 0, 0},
        {31, 2, 4, 6, 15, 57, 3, 15, 1, 0},
        {31, 12, 4, 6, 0, 30, 0, 1, 0, 0},
        {31, 5, 7, 7, 2, 0, 2, 3, -1, 0},
    },
    // @47 BELL
    {
        {28, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {29, 4, 1, 0, 2, 22, 0, 3, 3, 0},
        {29, 4, 3, 3, 0, 15, 0, 1, 2, 0},
        {10, 4, 4, 0, 3, 25, 3, 5, 3, 0},
        {30, 4, 3, 3, 0, 0, 1, 3, 3, 0},
    },
    // @48 HARP
    {
        {57, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 12, 0, 4, 15, 28, 1, 2, 0, 0},
        {31, 13, 6, 5, 1, 42, 1, 1, 0, 0},
        {31, 6, 5, 5, 1, 48, 0, 2, 0, 0},
        {31, 12, 7, 4, 1, 0, 2, 1, 0, 0},
    },
    // @49 BELL/BRASS
    {
        {60, 15, 0, 1, 4300, 7, 0, 6, 0, 0},
        {16, 6, 1, 3, 0, 26, 0, 1, 3, 0},
        {18, 3, 6, 12, 0, 10, 0, 1, 3, 0},
        {31, 15, 6, 2, 15, 36, 0, 11, 3, 0},
        {31, 15, 4, 2, 15, 0, 0, 1, 3, 0},
    },
    // @50 HARMONICA
    {
        {56, 15, 2, 1, 4400, 20, 0, 5, 0, 0},
        {20, 5, 0, 9, 9, 40, 0, 10, 3, 0},
        {20, 8, 0, 9, 0, 51, 0, 10, 0, 0},
        {16, 2, 0, 9, 0, 29, 0, 1, 1, 0},
        {14, 8, 0, 9, 1, 0, 0, 2, 0, 0},
    },
    // @51 STEEL DRUM
    {
        {4, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {22, 5, 6, 4, 6, 35, 1, 3, -3, 0},
        {25, 12, 6, 5, 1, 10, 2, 3, 0, 0},
        {20, 7, 6, 4, 6, 28, 1, 8, 3, 0},
        {25, 12, 6, 5, 6, 0, 2, 3, 3, 0},
    },
    // @52 TIMPANI
    {
        {57, 15, 2, 1, 2300, 10, 0, 1, 0, 0},
        {29, 6, 0, 4, 15, 22, 0, 5, -3, 0},
        {29, 0, 6, 4, 0, 42, 0, 7, -3, 0},
        {29, 13, 6, 4, 2, 37, 0, 5, -3, 0},
        {31, 0, 7, 5, 0, 0, 0, 5, 0, 0},
    },
    // @53 TRAIN
    {
        {60, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {13, 2, 2, 8, 0, 10, 1, 5, 3, 0},
        {13, 2, 2, 8, 0, 21, 3, 9, 3, 0},
        {12, 1, 1, 6, 5, 41, 0, 4, 3, 0},
        {20, 1, 1, 8, 1, 0, 0, 0, 3, 0},
    },
    // @54 AMBULAN
    {
        {62, 15, 1, 1, 900, 127, 0, 8, 0, 0},
        {4, 0, 2, 5, 0, 48, 0, 2, 0, 0},
        {4, 0, 2, 5, 0, 29, 0, 2, 0, 0},
        {4, 0, 2, 5, 0, 27, 0, 2, 0, 0},
        {0, 0, 2, 5, 0, 0, 0, 1, 0, 0},
    },
    // @55 TWEET
    {
        {62, 15, 2, 1, 2100, 60, 3, 9, 0, 0},
        {31, 10, 15, 9, 5, 49, 3, 8, 3, 2},
        {20, 6, 0, 9, 15, 37, 3, 2, 3, 2},
        {31, 11, 15, 9, 1, 83, 3, 2, 3, 2},
        {21, 11, 9, 9, 1, 0, 0, 2, 3, 2},
    },
    // @56 RAIN DROP
    {
        {60, 15, 3, 1, 3000, 127, 4, 7, 0, 0},
        {18, 12, 10, 7, 15, 41, 3, 15, 3, 2},
        {30, 15, 11, 7, 15, 22, 3, 1, 2, 2},
        {30, 14, 11, 7, 14, 48, 3, 7, 3, 2},
        {30, 10, 1, 7, 1, 0, 3, 1, 3, 2},
    },
    // @57 HORN
    {
        {52, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {16, 1, 0, 8, 1, 31, 0, 1, 0, 0},
        {16, 2, 0, 8, 1, 0, 0, 1, 0, 0},
        {16, 1, 0, 8, 1, 31, 0, 1, 0, 0},
        {16, 2, 0, 8, 1, 0, 0, 1, 0, 0},
    },
    // @58 SNARE DRUM
    {
        {60, 16, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 0, 0, 8, 0, 14, 0, 15, 0, 0},
        {31, 15, 17, 12, 2, 17, 0, 0, 0, 0},
        {31, 24, 0, 8, 11, 19, 0, 0, 0, 0},
        {31, 19, 16, 12, 2, 0, 0, 0, 0, 0},
    },
    // @59 COW BELL
    {
        {59, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 21, 19, 6, 2, 0, 0, 15, -1, 0},
        {31, 21, 12, 6, 2, 35, 0, 8, -1, 0},
        {31, 21, 13, 6, 3, 32, 0, 7, 0, 0},
        {31, 19, 16, 9, 2, 0, 0, 2, 0, 0},
    },
    // @60 PERC 1
    {
        {52, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {31, 1, 0, 5, 2, 13, 0, 0, 0, 0},
        {31, 13, 15, 10, 15, 20, 0, 14, 0, 0},
        {31, 22, 7, 8, 6, 29, 0, 0, -3, 0},
        {31, 20, 20, 8, 15, 0, 1, 1, 1, 0},
    },
    // @61 PERC 2
    {
        {52, 15, 0, 0, 0, 0, 0, 0, 0, 0},
        {30, 19, 30, 8, 13, 23, 0, 7, 0, 0},
        {31, 14, 28, 11, 1, 10, 0, 5, 0, 0},
        {31, 19, 13, 12, 4, 22, 3, 14, -3, 0},
        {31, 15, 10, 9, 1, 0, 3, 10, 3, 0},
    },
}; // ym2203_tone_table

//////////////////////////////////////////////////////////////////////////////
